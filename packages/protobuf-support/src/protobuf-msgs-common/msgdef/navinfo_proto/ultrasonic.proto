syntax = "proto2";

import "header.proto";
import "geometry.proto";
import "common.proto";

package davinci_adas.apa.ultrasonic_perception;

enum MessageStatus {
  MESSAGE_OK = 0;
  MESSAGE_ABNORMAL = 1;
  MESSAGE_UNKNOWN = 2;
  MESSAGE_APA_PERCEPTION_OK = 1000;
  MESSAGE_APA_PERCEPTION_FAILED = 1001;
  MESSAGE_APA_PERCEPTION_INIT_FAILED = 1100;
  MESSAGE_APA_PERCEPTION_INPUT_DATA_ERROR = 1101;
  MESSAGE_APA_PERCEPTION_PARAMETER_LOAD_FAILED = 1102;
  MESSAGE_APA_PERCEPTION_NO_INPUT_DATA = 1200;
  MESSAGE_APA_PERCEPTION_IMAGE_DECODE_ERR = 1201;
  MESSAGE_APA_PERCEPTION_SYS_NOT_ACTIVE = 1202;
  MESSAGE_APA_PERCEPTION_FREESPACE_OK = 3000;
  MESSAGE_APA_PERCEPTION_FREESPACE_ABNORMAL = 3001;
  MESSAGE_APA_PERCEPTION_FREESPACE_UNKNOWN = 3002;
  MESSAGE_APA_PERCEPTION_PARKING_SLOT_OK = 4000;
  MESSAGE_APA_PERCEPTION_PARKING_SLOT_ABNORMAL = 4001;
  MESSAGE_APA_PERCEPTION_PARKING_SLOT_UNKNOWN = 4002;
  MESSAGE_ULTRASONIC_RADAR_OK = 5000;
  MESSAGE_ULTRASONIC_RADAR_ABNORMAL = 5001;
  MESSAGE_ULTRASONIC_RADAR_UNKNOWN = 5002;
  MESSAGE_ULTRASONIC_SYS_INIT_FAILED = 5003;
  MESSAGE_ULTRASONIC_SYS_NOT_ACTIVE = 5004;
  MESSAGE_ULTRASONIC_PAS_ABNORMAL = 5100;
  MESSAGE_ULTRASONIC_FLS_SENSOR_ABNORMAL = 5101;
  MESSAGE_ULTRASONIC_FL_SENSOR_ABNORMAL = 5102;
  MESSAGE_ULTRASONIC_FLM_SENSOR_ABNORMAL = 5103;
  MESSAGE_ULTRASONIC_FRM_SENSOR_ABNORMAL = 5104;
  MESSAGE_ULTRASONIC_FR_SENSOR_ABNORMAL = 5105;
  MESSAGE_ULTRASONIC_FRS_SENSOR_ABNORMAL = 5106;
  MESSAGE_ULTRASONIC_RLS_SENSOR_ABNORMAL = 5107;
  MESSAGE_ULTRASONIC_RL_SENSOR_ABNORMAL = 5108;
  MESSAGE_ULTRASONIC_RLM_SENSOR_ABNORMAL = 5109;
  MESSAGE_ULTRASONIC_RRM_SENSOR_ABNORMAL = 5110;
  MESSAGE_ULTRASONIC_RR_SENSOR_ABNORMAL = 5111;
  MESSAGE_ULTRASONIC_RRS_SENSOR_ABNORMAL = 5112;
  MESSAGE_ULTRASONIC_DATA_SYNC_ABNORMAL = 5200;
  MESSAGE_ULTRASONIC_DATA_SYNC_INIT_FAILED = 5201;
  MESSAGE_ULTRASONIC_DATA_SYNC_OBS_GROUP_FAILED = 5202;
  MESSAGE_ULTRASONIC_DATA_SYNC_ULTR_RAW_DATA_FAILED = 5203;
  MESSAGE_ULTRASONIC_DATA_SYNC_ODM_FAILED = 5204;
  MESSAGE_ULTRASONIC_OBS_MAP_ABNORMAL = 5300;
  MESSAGE_ULTRASONIC_OBS_MAP_INIT_FAILED = 5301;
  MESSAGE_ULTRASONIC_OBS_CORRECTED_FAILED = 5302;
  MESSAGE_ULTRASONIC_OBS_CLUSTER_FAILED = 5303;
  MESSAGE_ULTRASONIC_OBS_MATCH_FAILED = 5304;
  MESSAGE_ULTRASONIC_OBS_CONTOUR_FAILED = 5305;
  MESSAGE_ULTRASONIC_OBS_FUSION_FAILED = 5306;
  MESSAGE_ULTRASONIC_OBS_GROUP_ABNORMAL = 5400;
  MESSAGE_ULTRASONIC_OBS_GROUP_INIT_FAILED = 5401;
  MESSAGE_ULTRASONIC_OBS_GROUP_FAILED = 5402;
  MESSAGE_ULTRASONIC_SLOT_ABNORMAL = 5500;
  MESSAGE_ULTRASONIC_SLOT_INIT_FAILED = 5501;
  MESSAGE_ULTRASONIC_SLOT_FAILED = 5502;
  MESSAGE_ULTRASONIC_SLOT_VEH_SPEED_ABNORMAL = 5503;
  MESSAGE_ULTRASONIC_SLOT_SIDE_DIS_ABNORMAL = 5504;
  MESSAGE_ULTRASONIC_SLOT_CORNER_FAILED = 5505;
  MESSAGE_ULTRASONIC_SLOT_LENGTH_FAILED = 5506;
  MESSAGE_ULTRASONIC_SLOT_DEEPTH_FAILED = 5507;
  MESSAGE_ODOMETRY_OK = 6000;
  MESSAGE_ODOMETRY_ABNORMAL = 6001;
  MESSAGE_ODOMETRY_UNKNOWN = 6002;
  MESSAGE_FUSION_OK = 7000;
  MESSAGE_FUSION_ABNORMAL = 7001;
  MESSAGE_FUSION_SYS_INIT_FAILED = 7002;
  MESSAGE_FUSION_SYS_IN_RESET_MODE = 7003;
  MESSAGE_FUSION_SYS_NOT_ACTIVE = 7004;
  MESSAGE_FUSION_SYNC_DATA_ABNORMAL = 7100;
  MESSAGE_FUSION_SYNC_DATA_INIT_FAILED = 7101;
  MESSAGE_FUSION_SLOT_TRACK_ABNORMAL = 7200;
  MESSAGE_FUSION_SLOT_TRACK_INIT_FAILED = 7201;
  MESSAGE_FUSION_SLOT_TRACK_FAILED = 7202;
  MESSAGE_FUSION_SLOT_FUSION_ABNORMAL = 7300;
  MESSAGE_FUSION_SLOT_FUSION_INIT_FAILED = 7301;
  MESSAGE_FUSION_SLOT_FUSION_FAILED = 7302;
  MESSAGE_FUSION_SLOT_FUSION_MATCH_FAILED = 7303;
  MESSAGE_FUSION_SLOT_FUSION_INPUT_IMG_INVALID = 7304;
  MESSAGE_FUSION_SLOT_FUSION_PARKINTO_INIT_FAILED = 7305;
  MESSAGE_FUSION_SLOT_FUSION_PARKINTO_END_POSE_FAILED = 7306;
  MESSAGE_FUSION_SLOT_FUSION_OCCUPIED_FAILED = 7307;
  MESSAGE_FUSION_SLOT_FUSION_PARKINTO_INPUT_SLOT_INVALID = 7308;
  MESSAGE_FUSION_SLOT_FUSION_ID_PERCEPTTYPE_FAILED = 7309;
  MESSAGE_FUSION_SLOT_FUSION_JUDGE_TYPE_FAILED = 7310;
  MESSAGE_FUSION_SLOT_FUSION_SLOT_LOCATION_MANAGE_FAILED = 7311;
  MESSAGE_FUSION_SLOT_FUSION_GET_PHISYCAL_BOUND_FAILED = 7312;
  MESSAGE_FUSION_SLOT_FUSION_JUDGE_PARK_MODE_FAILED = 7313;
  MESSAGE_FUSION_SLOT_FUSION_PARK_END_SLOT_FAILED = 7314;
  MESSAGE_FUSION_SLOT_FUSION_INPUT_MAP_INVALID = 7315;
  MESSAGE_FUSION_SLOT_FUSION_OCR_FAILED = 7316;
  MESSAGE_FUSION_SLOT_FUSION_END_SLOT_FAILED = 7317;
  MESSAGE_FUSION_SLOT_FUSION_CORRIDOR_ACROSS_FAILED = 7318;
  MESSAGE_FUSION_SLOT_FUSION_PARKOUT_FRONT_NO_OBS = 7319;
  MESSAGE_FUSION_SLOT_FUSION_PARKOUT_LENGTH_NARROW_SPACE = 7320;
  MESSAGE_FUSION_SLOT_FUSION_PARKOUT_WIDTH_NARROW_SPACE = 7321;
  MESSAGE_FUSION_SLOT_FUSION_SLOT_LIFE_FAILED = 7322;
  MESSAGE_FUSION_SLOT_FUSION_RECOMMEND_ORDER_FAILED = 7323;
  MESSAGE_FUSION_SLOT_FUSION_STOPPER_TYPE_FAILED = 7324;
  MESSAGE_FUSION_SLOT_FUSION_RELEASE_SPACE_FAILED = 7325;
  MESSAGE_FUSION_SEMANTIC_MAP_ABNORMAL = 7400;
  MESSAGE_FUSION_SEMANTIC_MAP_INIT_FAILED = 7401;
  MESSAGE_FUSION_SEMANTIC_MAP_SERIALIZE_FAILED = 7402;
  MESSAGE_FUSION_OBSTACLE_FUSION_ABNORMAL = 7500;
  MESSAGE_FUSION_OBSTACLE_FUSION_INIT_FAILED = 7501;
  MESSAGE_FUSION_OBSTACLE_MODULE_FAILED = 7502;
  MESSAGE_FUSION_OBSTACLE_FUSION_MATCH_FAILED = 7503;
  MESSAGE_FUSION_OBSTACLE_GET_CONTOURS_FAILED = 7504;
  MESSAGE_FUSION_OBSTACLE_UPDATE_FAILED = 7506;
  MESSAGE_FUSION_OBSTACLE_MANAGE_FAILED = 7507;
  MESSAGE_FUSION_OBSTACLE_INVALID_FUSION_MAP = 7508;
  MESSAGE_FUSION_OBSTACLE_GET_CACHE_FAILED = 7509;
  MESSAGE_FUSION_APP_REQUEST_ABNORMAL = 7600;
  MESSAGE_FUSION_APP_REQUEST_TIME_ABNORMAL = 7601;
  MESSAGE_FUSION_APP_REQUEST_NO_NEED_TO_SWITCH = 7602;
  MESSAGE_FUSION_APP_REQUEST_CHECK_MCU_FAILED = 7603;
  MESSAGE_FUSION_APP_REQUEST_NO_TARGET_SLOT_ID = 7604;
  MESSAGE_FUSION_APP_REQUEST_INVALID_TARGET_SLOT_ID = 7605;
  MESSAGE_FUSION_APP_REQUEST_TO_TERMINATE = 7606;
  MESSAGE_FUSION_APP_REQUEST_WORK_MODE_NOT_SUPPORT = 7607;
  MESSAGE_FUSION_APP_REQUEST_RUNNING_STATUS_NOT_SUPPORT = 7608;
  MESSAGE_FUSION_APP_REQUEST_WORK_MODE_NOT_MATCH = 7609;
  MESSAGE_PNC_PATH_PLAN_FAILED = 8001;
  MESSAGE_PNC_OBSTACLE_INTERRUPTED = 8002;
  MESSAGE_PNC_OBSTACLE_REMOVED = 8003;
  MESSAGE_PNC_PARKING_COMPLETED = 8004;
  MESSAGE_PNC_PATH_PLAN_SUCCESS = 8005;
  MESSAGE_PNC_REQUESTED_SLOT_NOT_EXIST = 8006;
  MESSAGE_PNC_TARGET_SLOT_DIFF_TOO_LARGE = 8007;
  MESSAGE_PNC_ODOM_ABNORMAL = 8008;
}
enum ErrorCode {
  APA_OK = 0;
  APA_ERROR = 1;
  APA_FUSION_BLOCK = 2;
  APA_PNC_BLOCK = 3;
  APA_ULTRASONIC_BLOCK = 4;
  APA_FUSION_INVALID_TARGET_SLOT = 5;
  APA_GEAR_POSITION_ERROR = 6;
  APA_OVERSPEED = 7;
  APA_SYS_STATE_SLEEP = 8;
  APA_OFF = 9;
  APA_FuncState_MAP_3D = 10;
  APA_SYS_ERROR = 11;
  APA_PERCEPTION_ERROR = 1000;
  APA_ULTRASONIC_RADAR_ERROR = 2000;
  APA_ULTRASONIC_PAS_ERROR = 2100;
  APA_ULTRASONIC_SENSOR_ERROR = 2101;
  APA_ULTRASONIC_DATA_SYNC_ERROR = 2200;
  APA_ULTRASONIC_OBS_MAP_ERROR = 2300;
  APA_ULTRASONIC_SLOT_ERROR = 2400;
  APA_ODOMETRY_ERROR = 3000;
  APA_FUSION_ERROR = 4000;
  APA_FUSION_APP_REQUEST_INVALID_DATA = 4100;
  APA_FUSION_APP_REQUEST_INVALID_TIME = 4101;
  APA_FUSION_APP_REQUEST_INVALID_JUMP = 4102;
  APA_FUSION_APP_REQUEST_INVALID_TARGET_SLOT = 4103;
  APA_FUSION_APP_REQUEST_SWITCH_TIMEOUT = 4104;
  APA_FUSION_INPUT_ABNORMAL_ODOMETRY_DATA = 4200;
  APA_FUSION_INPUT_ABNORMAL_PERCEPTION_SLOT_DATA = 4201;
  APA_FUSION_INPUT_ABNORMAL_PERCEPTION_SCENE_DATA = 4202;
  APA_FUSION_INPUT_ABNORMAL_PERCEPTION_OBSTACLE_DATA = 4203;
  APA_FUSION_INPUT_ABNORMAL_ULTRASONIC_RAW_DATA = 4204;
  APA_FUSION_INPUT_ABNORMAL_ULTRASONIC_GROUP_POINT_DATA = 4205;
  APA_FUSION_INPUT_ABNORMAL_ULTRASONIC_OBSTACLE_DATA = 4206;
  APA_FUSION_INPUT_ABNORMAL_ULTRASONIC_SLOT_DATA = 4207;
  APA_PNC_OK = 5000;
  APA_PNC_OBSTACLE_SUSPENDED = 5001;
  APA_PNC_PLAN_FAILED = 5101;
  APA_PNC_PLAN_OVERTIME = 5102;
  APA_PNC_WAIT_FUSION_BUILD_SLOT_COORDINATE_OVERTIME = 5103;
  APA_PNC_APP_REQUEST_SLOT_HAS_NO_END_POSE = 5104;
  APA_PNC_ODOM_ABNORMAL = 5105;
  APA_PNC_TARGET_SLOT_DIFF_TOO_LARGE = 5106;
  APA_PNC_INPUT_ABNORMAL_FUSION_MAP_SIZE_ERROR = 5107;
  APA_PNC_INPUT_ABNORMAL_SLOT_SPACE_SIZE_ERROR = 5108;
  APA_PLAN_FAILED_EMPTY_TRAJECTORY = 5200;
  APA_PLAN_FAILED_GOAL_OUT_OF_MAP = 5201;
  APA_PLAN_FAILED_START_OUT_OF_MAP = 5202;
  APA_PLAN_FAILED_DIST_MAP_INIT_FAIL = 5203;
  APA_PLAN_FAILED_EMPTY_MAP_BOUNDARY = 5204;
  APA_PLAN_FAILED_EXCEED_MAX_STEP = 5205;
  APA_PLAN_FAILED_MAP_ILLIGAL = 5206;
  APA_PLAN_FAILED_MAP_NAN_DATA = 5207;
  APA_PLAN_FAILED_GOAL_OFFSET_OUT_OF_MAP = 5208;
  APA_PLAN_FAILED_START_OFFSET_OUT_OF_MAP = 5209;
  APA_PLAN_FAILED_PATH_COLLIDE = 5210;
  APA_PLAN_FAILED_PATH_MANY_GEAR_COU = 5211;
  APA_PLAN_FAILED_ESCAPE_FAIL_NO_GEAR = 5212;
  APA_PLAN_FAILED_ESCAPE_FAIL_WITHIN_DIST = 5213;
  APA_PLAN_FAILED_START_LINK_INIT_FAIL = 5214;
  APA_PLAN_FAILED_END_LINK_INIT_FAIL = 5215;
  APA_PLAN_FAILED_START_CON_R_LINK_INIT_FAIL = 5216;
  APA_PLAN_FAILED_EXCEED_MIN_RADIUS = 5217;
  APA_PLAN_FAILED_UNKNOWN_ERROR = 5218;
  APA_FSM_ERROR = 6000;
  APA_AVM_ERROR = 7000;
  APA_SPI_ERROR = 8000;
  APA_SPI_MCU_BLOCK = 8001;
  APA_SPI_CHASSIS_BLOCK = 8002;
  APA_SPI_ODOMETRY_BLOCK = 8003;
}
enum SystemWorkMode {
  SYS_WORK_MODE_UNKOWN = 0;
  SYS_PARK_INTO_SLOT = 1;
  SYS_PARK_OUTOF_SLOT = 2;
  SYS_REMOTE_PARK_INTO_SLOT = 3;
  SYS_REMOTE_PARK_OUTOF_SLOT = 4;
  SYS_REMOTE_MOVE_VEHICLE = 5;
  SYS_L0_PARK_INTO_SLOT = 6;
}
enum FsmType {
  INIT = 0;
  STANDBY = 1;
  SEARCHING = 2;
  PARKING = 3;
  SUSPENDED = 4;
  TERMINATED = 5;
  COMPLETED = 6;
}
enum UltrObstacleCategory {
  ULTRASONIC_FREESPACE = 200;
  ULTRASONIC_SQUARE = 201;
  ULTRASONIC_CIRCLE = 202;
  ULTRASONIC_EDGE = 203;
  ULTRASONIC_OTHER = 204;
  ULTRASONIC_OTHER_AND_CIRCLE = 205;
  ULTRASONIC_DELAYED_CIRCLE = 206;
  ULTRASONIC_DISTANCE_CIRCLE = 207;
  ULTRASONIC_DELAYED_DISTANCE_CIRCLE = 208;
  ULTRASONIC_CIRCLE_PERSON = 209;
  ULTRASONIC_DELAYED_CIRCLE_PERSON = 210;
  ULTRASONIC_LOW_CONF_CIRCLE_COMMON = 211;
  ULTRASONIC_CIRCLE_AISLE_CAR = 212;
  ULTRASONIC_UNKNOWN = 255;
}
enum UltrAlgoDiagInfo {
  ULTR_ALGO_NORMAL = 1;
  ULTR_ALGO_ABNORMAL = 2;
  ULTR_ALGO_GROUP_POINT_ABNORMAL = 3;
  ULTR_ALGO_OBS_MAP_ABNORMAL = 4;
  ULTR_ALGO_SLOT_SCAN_ABNORMAL = 5;
}
enum PasSystemDiagInfo {
  PAS_SYS_DIAG_NORMAL = 0;
  PAS_SYS_DIAG_MEM_FAULT = 1;
  PAS_SYS_DIAG_VOLTAGE_ABNORMAL = 2;
  PAS_SYS_DIAG_INNER_COMMUNICATION_FAULT = 3;
  PAS_SYS_DIAG_INNER_SYS_ABNORMAL = 4;
  PAS_SYS_DIAG_RESERVED = 5;
}
enum UltrSensorDiagInfo {
  ULTR_SENSOR_NORMAL = 0;
  ULTR_SENSOR_SHORT_CIRCUIT_TO_GROUND = 1;
  ULTR_SENSOR_SHORT_CIRCUIT_TO_POWER = 2;
  ULTR_SENSOR_OPEN_CIRCUIT = 3;
  ULTR_SENSOR_RESIDUAL_VIBRATION_ABNORMAL = 4;
  ULTR_SENSOR_BLOCK = 5;
  ULTR_SENSOR_INIT_FAULT = 6;
  ULTR_SENSOR_SIGNAL_PARSE_FAULT = 7;
}
enum UltrAlgoInnerDiagInfo {
  ALGO_NORMAL = 1;
  ALGO_ABNORMAL = 2;
  ALGO_CHANNEL_APP_REQUEST_ABNORMAL = 3;
  ALGO_CHANNEL_RAW_DATA_CHANNEL_ABNORMAL = 4;
  ALGO_CHANNEL_GROUP_POINT_CHANNEL_ABNORMAL = 5;
  ALGO_CHANNEL_ODM_CHANNEL_ABNORMAL = 6;
  ALGO_DATA_SYNC_ODM_AND_RAW_DATA_ABNORMAL = 7;
  ALGO_DATA_AYNC_ODM_AND_GROUP_POINT_ABNORMAL = 8;
  ALGO_CORRECT_RATE_ABNORMAL = 9;
  ALGO_CORRECT_POINT_ABNORMAL = 10;
  ALGO_CLUSTER_NUM_ABNORMAL = 11;
  ALGO_MATCH_NUM_ABNORMAL = 12;
  ALGO_CONTOUR_ABNORMAL = 13;
  ALGO_UPDATE_ABNORMAL = 14;
  ALGO_SLOT_DETECT_ABNORMAL = 15;
  ALGO_SIDE_DIS_OUT_RANGE = 16;
  ALGO_VEHICLE_SPEED_OUT_RANGE = 17;
  ALGO_OBS_POINT_NUM_ABNORMAL = 18;
  ALGO_CHANNEL_OBJ_POINTS_CHANNEL_ABNORMAL = 19;
}
enum ParkingToSide {
  PARK_TO_LEFT = -1;
  PARK_TO_UNKNOW = 0;
  PARK_TO_RIGHT = 1;
  PARK_TO_FRONT = 2;
  PARK_TO_REAR = 3;
  PARK_TO_FRONT_LEFT = 4;
  PARK_TO_FRONT_RIGHT = 5;
  PARK_TO_REAR_LEFT = 6;
  PARK_TO_REAR_RIGHT = 7;
}
enum SlotInsideType {
  SLOT_INSIDE_UNKOWN = 0;
  SLOT_NOTHING_INSIDE = 1;
  SLOT_WALL_INSIDE = 2;
  SLOT_ROADEDGE_INSIDE = 3;
}
enum ParkingSlotType {
  PARKING_SLOT_TYPE_UNKOWN = 0;
  PARKING_SLOT_TYPE_PARALLEL = 1;
  PARKING_SLOT_TYPE_VERTICAL = 2;
  PARKING_SLOT_TYPE_OBLIQUE = 3;
}
enum ImageObstacleCategory {
  SEG_FREESPACE = 0;
  SEG_PERSON = 1;
  SEG_WALL = 2;
  SEG_CAR = 3;
  SEG_OTHER = 4;
  SEG_WHEELCHAIR = 5;
  SEG_BABY_CARRIAGE = 6;
  SEG_TRAFFIC_CONE = 7;
  SEG_GROUND_LOCK_OPEN = 8;
  SEG_ROADSIDE = 9;
  SEG_PARKING_SPACE_LINE = 10;
  SEG_ZEBRA_CROSSING = 11;
  SEG_NO_STOP_LINE = 12;
  SEG_WHEEL_STOPPER = 13;
  SEG_DECELERATION_ZONE = 14;
  SEG_LANELINE = 15;
  SEG_FIRE_EXTINGUISHER = 16;
  SEG_BACKGROUND = 17;
  SEG_GROUND_LOCK_CLOSE = 18;
  SEG_UNKNOWN = 199;
}
message UltrObstacleObject {
  optional uint32 obs_id = 1;
  repeated davinci_adas.apa.geometry.Point2Df obs_points = 2;
  optional UltrObstacleCategory obs_type = 3;
  optional bool p0_obs_ok = 4;
  optional bool p1_obs_ok = 5;
}
message ObstaclesEntry {
  optional uint32 key = 1;
  optional davinci_adas.apa.ultrasonic_perception.UltrObstacleObject value = 2;
}

message UltrObstaclesList {
  optional apollo.common.Header header = 1;
  repeated davinci_adas.apa.ultrasonic_perception.ObstaclesEntry obstacles = 2;
  optional MessageStatus msg_status = 3;
}
message UltrPasSysDiagInfo {
  optional PasSystemDiagInfo pas_sys_diag_info = 1;
  repeated UltrSensorDiagInfo ultr_sensor_diag_info = 2;
}
message UltrModuleDiagInfo {
  optional davinci_adas.apa.ultrasonic_perception.UltrPasSysDiagInfo
      pas_sys_diag_info = 1;
  optional UltrAlgoDiagInfo algo_diag_info = 2;
}
message UltrModuleInnerDiagInfo {
  optional davinci_adas.apa.ultrasonic_perception.UltrPasSysDiagInfo
      pas_sys_diag_info = 1;
  optional UltrAlgoInnerDiagInfo algo_inner_diag_info = 2;
}
message UltraradarModuleStatus {
  optional apollo.common.Header header = 1;
  optional FsmType sys_status = 2;
  optional SystemWorkMode sys_mode = 3;
  optional ErrorCode error_code = 4;
  optional davinci_adas.apa.ultrasonic_perception.UltrModuleDiagInfo
      ultr_algo_diag_info = 5;
  optional davinci_adas.apa.ultrasonic_perception.UltrModuleInnerDiagInfo
      ultr_algo_inner_diag_info = 6;
}
message UltrSlotsList {
  optional apollo.common.Header header = 1;
  repeated davinci_adas.apa.ultrasonic_perception.UltrSlotsList.SlotsEntry
      slots = 2;
  optional MessageStatus msg_status = 3;

  message SlotsEntry {
    optional uint32 key = 1;
    optional davinci_adas.apa.ultrasonic_perception.UltrSlotObject value = 2;
  }
}
message UltrSlotObject {
  optional uint32 slot_id = 1;
  optional ParkingSlotType slot_type = 2;
  optional ParkingToSide park_side = 3;
  optional davinci_adas.apa.common.ParkingSlotLocation slot_corner = 4;
  optional float slot_length = 5;
  optional float slot_depth = 6;
  optional float angle = 7;
  optional UltrObstacleCategory p0_obs_type = 8;
  optional UltrObstacleCategory p1_obs_type = 9;
  optional davinci_adas.apa.geometry.Point2Df p0_obs_start = 10;
  optional davinci_adas.apa.geometry.Point2Df p1_obs_end = 11;
  optional SlotInsideType slot_inside_type = 12;
  optional float slot_score = 13;
}
message VisonObjList {
  optional apollo.common.Header header = 1;
  repeated davinci_adas.apa.ultrasonic_perception.VisonObjList.ObstaclesEntry
      obstacles = 2;
  optional MessageStatus msg_status = 3;

  message ObstaclesEntry {
    optional uint32 key = 1;
    optional davinci_adas.apa.ultrasonic_perception.VisonObject value = 2;
  }
}

message VisonObject {
  repeated davinci_adas.apa.geometry.Point2Df obs_points = 1;
  optional ImageObstacleCategory obs_type = 2;
}
message UltrGroupPoints {
  optional apollo.common.Header header = 1;
  repeated davinci_adas.apa.ultrasonic_perception.UltrGroupPoints.ObsPtsEntry
      obs_pts = 2;
  optional MessageStatus msg_status = 3;
  repeated davinci_adas.apa.ultrasonic_perception.UltrGroupPoints.PtsInfoEntry
      pts_info = 4;
  message ObsPtsEntry {
    optional uint32 key = 1;
    optional davinci_adas.apa.geometry.Point2Df value = 2;
  }
  message PtsInfoEntry {
    optional uint32 key = 1;
    optional davinci_adas.apa.ultrasonic_perception.UltrPointInfo value = 2;
  }
}
message UltrPointInfo {
  optional uint32 pt_index = 1;
  optional float pt_confidence = 2;
  optional bool pt_used_laeb = 3;
}